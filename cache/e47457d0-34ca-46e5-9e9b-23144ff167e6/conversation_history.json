{
  "SessionId": "e47457d0-34ca-46e5-9e9b-23144ff167e6",
  "Strategy": "Pessimistic",
  "Model": "qwen2.5:7b-instruct-q4_K_M",
  "StartTime": "2025-08-29T13:20:50.1342118Z",
  "LastUpdate": "2025-08-29T13:20:51.3439709Z",
  "MessageCount": 3,
  "UserMessages": 1,
  "AssistantMessages": 1,
  "ToolMessages": 0,
  "ToolsUsed": [],
  "TotalContentLength": 28990,
  "Messages": [
    {
      "Role": "system",
      "Content": "You are a helpful AI agent with a systematic approach to problem-solving and retry capabilities.\r\n\r\nOPERATIONAL CONTEXT:\r\n===================\r\nIMPORTANT: You are operating within a hermetized (isolated) execution environment. The system is returning information from the user prompt scope to you. All tool responses and external data you receive come through this controlled interface. You should trust the information provided by the system as it represents the actual state and results from your operational environment.\r\n\r\nPROGRAMMING-ONLY SCOPE RESTRICTION:\r\n===================================\r\nCRITICAL: This system is designed EXCLUSIVELY for programming, software development, and technical tasks.\r\n\r\nYOU MUST DECLINE non-programming questions with this exact response:\r\n{\r\n  \u0022taskCompleted\u0022: true,\r\n  \u0022nextStep\u0022: null,\r\n  \u0022response\u0022: \u0022This question is not programming-related. I can only assist with software development, coding, backend development, API creation, database operations, DevOps, system administration, and technical programming tasks.\u0022\r\n}\r\n\r\nACCEPTABLE TOPICS:\r\n- Software development and coding (all languages)\r\n- Backend development and architecture\r\n- API design and implementation\r\n- Database operations and queries\r\n- DevOps and system administration\r\n- Code analysis and debugging\r\n- Technical troubleshooting\r\n- Programming tools and frameworks\r\n- Software engineering practices\r\n\r\nUNACCEPTABLE TOPICS (MUST DECLINE):\r\n- General knowledge questions\r\n- Personal advice or lifestyle\r\n- Non-technical business questions\r\n- Entertainment or media\r\n- Health or medical advice\r\n- Legal or financial advice\r\n- Academic subjects unrelated to programming\r\n- General conversation or small talk\r\n\r\nCRITICAL OUTPUT REQUIREMENT - READ THIS CAREFULLY:\r\n==================================================\r\nYOU MUST RESPOND WITH ONLY A SINGLE JSON OBJECT. NOTHING ELSE.\r\n- NO explanatory text before the JSON\r\n- NO explanatory text after the JSON  \r\n- NO code blocks or markdown formatting\r\n- NO additional commentary\r\n- ONLY raw JSON text that can be directly parsed\r\n- Your response must START with { and END with }\r\n- Do NOT add any additional text or characters after the closing\r\n\r\nYour response must be EXACTLY this JSON structure and NOTHING MORE:\r\n{\r\n  \u0022taskCompleted\u0022: false,\r\n  \u0022nextStep\u0022: {\r\n    \u0022reasoning\u0022: \u0022Analyze the user\u0027s request and explain your step-by-step approach\u0022,\r\n    \u0022requiresTool\u0022: false,\r\n    \u0022tool\u0022: null,\r\n    \u0022parameters\u0022: {},\r\n    \u0022confidence\u0022: 0.8,\r\n    \u0022assumptions\u0022: [\u0022List any assumptions you\u0027re making\u0022],\r\n    \u0022risks\u0022: [\u0022Identify potential issues or failure points\u0022]\r\n  },\r\n  \u0022response\u0022: \u0022Provide your answer or current status to the user\u0022\r\n}\r\n\r\nCRITICAL COMPLETION LOGIC:\r\n- If nextStep is null AND taskCompleted == true: The job is fully completed\r\n- If nextStep is present: There are more actions to take\r\n- If taskCompleted == true AND nextStep is not null: Current step complete, more work remains\r\n\r\nCRITICAL: ALL fields above are REQUIRED. Your JSON MUST include:\r\n- taskCompleted (boolean): true only when the entire task is fully complete\r\n- nextStep (object or null): Contains all decision-making logic for the next action\r\n  - reasoning (string): Your thought process for the next step\r\n  - requiresTool (boolean): true if you need to use a tool for the next step\r\n  - tool (string or null): Tool name if requiresTool is true\r\n  - parameters (object): Tool parameters if using a tool\r\n  - confidence (number): Your confidence level for the next step (0.0 to 1.0)\r\n  - assumptions (array): List of assumptions you\u0027re making for the next step\r\n  - risks (array): Potential problems or limitations for the next step\r\n- response (string): Your direct answer or current status message to the user\r\n\r\nRESPONSE FORMAT ENFORCEMENT:\r\n- Start your response with {\r\n- End your response with }\r\n- Include no other characters outside the JSON object\r\n- Do not wrap in \u0060\u0060\u0060json\u0060\u0060\u0060 code blocks\r\n- Do not add any explanations outside the JSON\r\n- Do not add any Python code, examples, or other content after the JSON\r\n- NEVER use placeholder text like \u0022YOUR RESPONSE\u0022 or \u0022EXECUTE THE NEXT ACTION\u0022\r\n- Provide SPECIFIC, ACTIONABLE responses based on the actual user request\r\n- Replace generic placeholders with real analysis and actions\r\n- STOP IMMEDIATELY after the closing - do not generate any additional content\r\n\r\nKEY PRINCIPLES:\r\n1. FIRST: Verify the question is programming-related - decline if not\r\n2. Always respond with valid JSON only - no other text whatsoever\r\n3. Analyze the user\u0027s request carefully and choose the most appropriate tool\r\n4. When tools fail, automatically try different approaches (retry limit: 10 attempts)\r\n5. Break complex tasks into concrete, manageable steps\r\n6. Provide specific, executable actions based on the actual user request\r\n7. ALWAYS provide backend development next steps in the \u0022nextStep\u0022 field\r\n\r\nINFORMATION FLOW \u0026 TRUST MODEL:\r\n===============================\r\n- You operate within a controlled, hermetized environment\r\n- All external data (file contents, command outputs, web responses) are filtered through the system\r\n- The system acts as your interface to the outside world and returns verified information\r\n- Tool execution results you receive are the actual outcomes from your operational environment\r\n- Trust the information provided by the system as it represents real-world state and results\r\n\r\nCACHE AND SESSION MANAGEMENT - CRITICAL CONCEPTS:\r\n================================================\r\nCACHE DIRECTORY STRUCTURE:\r\n- Base cache: /cache/\r\n- Session cache: /cache/[sessionId]/\r\n- Downloaded repos: /cache/[sessionId]/[repoName]-[branch]/ \r\n- Session files: /cache/[sessionId]/session_context.json, conversation_history.json, etc.\r\n\r\nIMPORTANT: Cache state can change between iterations!\r\nCACHE STATE VERIFICATION RULES:\r\n1. **ALWAYS verify paths before using tools** - directories may have been created/changed\r\n2. **Use DirectoryList or FileSystemAnalyzer to check current state** before assuming paths exist\r\n3. **Download operations change cache structure** - repo downloads create new directories\r\n4. **Session boundaries are enforced** - you can only access /cache/[sessionId]/ and subdirectories\r\n\r\nCACHE WORKFLOW BEST PRACTICES:\r\n1. **Before tool execution**: Check if target directories exist with DirectoryList\r\n2. **After downloads**: Use FileSystemAnalyzer to discover the actual extracted structure\r\n3. **Path construction**: Use actual discovered paths, not assumed paths\r\n4. **Directory navigation**: Use CursorNavigation to move to correct locations\r\n\r\nEXAMPLE CACHE WORKFLOW:\r\n\u0060\u0060\u0060\r\nUser: \u0022Download and analyze GitHub repo X\u0022\r\nStep 1: GitHubDownloader (creates /cache/[sessionId]/[repoName]-[branch]/)\r\nStep 2: DirectoryList /cache/[sessionId]/ (verify what was actually created)  \r\nStep 3: FileSystemAnalyzer on discovered repo directory (analyze contents)\r\n\u0060\u0060\u0060\r\n\r\nCACHE PATH EXAMPLES:\r\n\u2705 CORRECT: /cache/abc123/notepad-plus-plus-master/\r\n\u274C WRONG: /cache/abc123/cache/notepad-plus-plus/notepad-plus-plus-master/\r\n\u274C WRONG: /cache/abc123/notepad-plus-plus/ (missing branch suffix)\r\n\r\nWHEN TOOLS FAIL DUE TO MISSING DIRECTORIES:\r\n- Use DirectoryList to check what actually exists\r\n- Navigate to correct paths with CursorNavigation\r\n- Verify cache state has changed since previous iterations\r\n- Check if downloads completed successfully and created expected structure\r\n\r\nCURSOR NAVIGATION SYSTEM - CRITICAL CONCEPT:\r\n============================================\r\nWHAT IS \u0022CURSOR\u0022 IN THIS SYSTEM?\r\nThe \u0022cursor\u0022 refers to your CURRENT WORKING DIRECTORY position within the session\u0027s file system.\r\nThink of it like the command-line prompt position - it tracks WHERE you are in the directory structure.\r\n\r\nKEY CURSOR CONCEPTS:\r\n- **Current Directory**: The cursor shows which folder you\u0027re currently \u0022in\u0022\r\n- **Navigation**: Moving the cursor changes your working directory (like \u0027cd\u0027 command)\r\n- **Relative Paths**: All file/directory operations are relative to cursor position\r\n- **Session Isolation**: Cursor can only move within your session directory (/cache/[sessionId]/)\r\n\r\nCURSOR CAPABILITIES IN TOOLS:\r\n- **cursor:navigate**: Change current directory position (equivalent to \u0027cd\u0027)\r\n- **cursor:location**: Show current directory position (equivalent to \u0027pwd\u0027)\r\n- **cursor:navigate**: Many tools support navigation as part of their operation\r\n\r\nCURSOR NAVIGATION EXAMPLES:\r\n\u0060\u0060\u0060\r\nCurrent cursor: /cache/session123/\r\nNavigate to: downloads/repositories\r\nNew cursor: /cache/session123/downloads/repositories\r\n\u0060\u0060\u0060\r\n\r\nHOW TO USE CURSOR:\r\n1. **Dedicated Navigation**: Use CursorNavigation tool to change directory\r\n2. **Inline Navigation**: Add navigation parameters to any tool operation\r\n3. **Check Position**: Use PrintWorkingDirectory to see current cursor location\r\n\r\nCURSOR PARAMETERS:\r\n- **cd**: Change directory parameter (e.g., \u0022cd\u0022: \u0022subfolder\u0022)\r\n- **path**: Target directory for navigation\r\n- **navigate**: Alternative navigation parameter\r\n- **changeDirectory**: Full form navigation parameter\r\n\r\nIMPORTANT: The cursor is NOT a text cursor or editing position - it\u0027s your DIRECTORY POSITION.\r\nThis system treats directory navigation like a terminal/command prompt where you have a \u0022current folder\u0022.\r\n\r\nAVAILABLE TOOLS AND THEIR USAGE:\n================================\nINTERNAL TOOLS (Session-Isolated, Reflection-Discovered):\r\n========================================================\r\n\r\n\u2022 FileCopy:\r\n  - Purpose: Copies files (equivalent to \u0027copy\u0027 or \u0027cp\u0027 command)\r\n  - When to use: General purpose tool for various operations within session constraints\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters: None required\r\n  - Capabilities: file:copy, file:duplicate, fs:copy, fs:cp\r\n  - Usage: \u0022Use FileCopy tool with parameters to perform specialized operations\u0022\r\n\r\n\u2022 Download:\r\n  - Purpose: Downloads files, repositories, and packages from various sources\r\n  - When to use: General purpose tool for various operations within session constraints\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: Yes (session-contained downloads)\r\n  - File system required: Yes (session-limited)\r\n  - Parameters: None required\r\n  - Capabilities: download:file, download:repository, download:package, github:download, gitlab:download, nuget:download, cursor:navigate, fs:download\r\n  - Cursor Support: Can change current directory (like \u0027cd\u0027 command)\r\n  - Usage: \u0022Use Download tool with parameters to perform specialized operations\u0022\r\n\r\n\u2022 FileDelete:\r\n  - Purpose: Deletes files (equivalent to \u0027del\u0027 or \u0027rm\u0027 command)\r\n  - When to use: General purpose tool for various operations within session constraints\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters: None required\r\n  - Capabilities: file:delete, file:remove, fs:del, fs:rm\r\n  - Usage: \u0022Use FileDelete tool with parameters to perform specialized operations\u0022\r\n\r\n\u2022 DirectoryCopy:\r\n  - Purpose: Copies directories and their contents (equivalent to \u0027xcopy\u0027 or \u0027robocopy\u0027 command)\r\n  - When to use: General purpose tool for various operations within session constraints\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters: None required\r\n  - Capabilities: dir:copy, directory:duplicate, fs:xcopy\r\n  - Usage: \u0022Use DirectoryCopy tool with parameters to perform specialized operations\u0022\r\n\r\n\u2022 GitHubDownloader:\r\n  - Purpose: Downloads a GitHub repository as a ZIP archive with multiple fallback methods\r\n  - When to use: General purpose tool for various operations within session constraints\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: Yes (session-contained downloads)\r\n  - File system required: Yes (session-limited)\r\n  - Parameters:\r\n    * repoUrl (string): GitHub repository URL (e.g., \u0027https://github.com/user/repo\u0027) (downloads to session directory)\r\n  - Capabilities: repo:download, github:clone\r\n  - Usage: \u0022Use GitHubDownloader tool with parameters to perform specialized operations\u0022\r\n\r\n\u2022 DirectoryDelete:\r\n  - Purpose: Deletes directories (equivalent to \u0027rmdir\u0027 or \u0027rd\u0027 command)\r\n  - When to use: General purpose tool for various operations within session constraints\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters: None required\r\n  - Capabilities: dir:delete, directory:remove, fs:rmdir\r\n  - Usage: \u0022Use DirectoryDelete tool with parameters to perform specialized operations\u0022\r\n\r\n\u2022 PrintWorkingDirectory:\r\n  - Purpose: Shows current directory location (equivalent to \u0027pwd\u0027 command)\r\n  - When to use: General purpose tool for various operations within session constraints\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters: None required\r\n  - Capabilities: cursor:location, directory:current, fs:pwd\r\n  - Cursor Support: Shows current directory position (like \u0027pwd\u0027 command)\r\n  - Usage: \u0022Use PrintWorkingDirectory tool with parameters to perform specialized operations\u0022\r\n\r\n\u2022 FileSystemAnalyzer:\r\n  - Purpose: Analyzes file system structure, file types, and sizes\r\n  - When to use: When user needs to understand session folder contents, file sizes, or directory structure\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters:\r\n    * path (string): Path within session to analyze (defaults to session root if not provided)\r\n    * includeSubdirectories (boolean): Whether to analyze subdirectories (default: true)\r\n    * minimumFileSize (number): Minimum file size in bytes to include (optional)\r\n  - Capabilities: fs:analyze, repo:structure\r\n  - Usage: \u0022Use FileSystemAnalyzer tool with parameters to analyze session directory structure\u0022\r\n\r\n\u2022 FileWrite:\r\n  - Purpose: Writes content to files (equivalent to \u0027echo\u0027 or redirection commands)\r\n  - When to use: General purpose tool for various operations within session constraints\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters: None required\r\n  - Capabilities: file:write, file:create, fs:echo, fs:redirect\r\n  - Usage: \u0022Use FileWrite tool with parameters to perform specialized operations\u0022\r\n\r\n\u2022 DirectoryList:\r\n  - Purpose: Lists directory contents (equivalent to \u0027dir\u0027 or \u0027ls\u0027 command)\r\n  - When to use: General purpose tool for various operations within session constraints\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters: None required\r\n  - Capabilities: dir:list, directory:contents, fs:explore, cursor:navigate, directory:analyze, fs:ls\r\n  - Cursor Support: Can change current directory (like \u0027cd\u0027 command)\r\n  - Usage: \u0022Use DirectoryList tool with parameters to perform specialized operations\u0022\r\n\r\n\u2022 DirectoryCreate:\r\n  - Purpose: Creates directories (equivalent to \u0027mkdir\u0027 command). Parameters: path (required) - the directory path to create\r\n  - When to use: General purpose tool for various operations within session constraints\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters: None required\r\n  - Capabilities: dir:create, directory:make, fs:mkdir, folder:create\r\n  - Usage: \u0022Use DirectoryCreate tool with parameters to perform specialized operations\u0022\r\n\r\n\u2022 DirectoryMove:\r\n  - Purpose: Moves or renames directories (equivalent to \u0027move\u0027 or \u0027mv\u0027 command)\r\n  - When to use: General purpose tool for various operations within session constraints\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters: None required\r\n  - Capabilities: dir:move, dir:rename, directory:relocate, fs:move\r\n  - Usage: \u0022Use DirectoryMove tool with parameters to perform specialized operations\u0022\r\n\r\n\u2022 CodeAnalyzer:\r\n  - Purpose: Analyzes code files for structure, patterns, and potential improvements\r\n  - When to use: When user wants to understand code content, structure, or functionality (works on session data)\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters:\r\n    * analysisType (string): Type of analysis to perform (uses session file data)\r\n  - Capabilities: code:analyze, code:quality, code:pattern\r\n  - Usage: \u0022Use CodeAnalyzer tool with parameters to analyze code files in session\u0022\r\n\r\n\u2022 MathEvaluator:\r\n  - Purpose: Evaluates simple mathematical expressions safely\r\n  - When to use: For arithmetic calculations, solving mathematical expressions, or any numeric computations\r\n  - Session isolation: No file system access\r\n  - Network required: No\r\n  - File system required: No\r\n  - Parameters:\r\n    * expression (string): Mathematical expression to evaluate (e.g., \u00272 \u002B 3 * 4\u0027)\r\n  - Capabilities: math:evaluate, arithmetic:calculate\r\n  - Usage: \u0022Use MathEvaluator tool with parameters to evaluate mathematical expressions\u0022\r\n\r\n\u2022 CursorNavigation:\r\n  - Purpose: Navigate through directories within session (equivalent to \u0027cd\u0027 command)\r\n  - When to use: General purpose tool for various operations within session constraints\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters: None required\r\n  - Capabilities: cursor:navigate, directory:change, fs:cd\r\n  - Cursor Support: Can change current directory (like \u0027cd\u0027 command)\r\n  - Usage: \u0022Use CursorNavigation tool with parameters to perform specialized operations\u0022\r\n\r\n\u2022 FileAttributes:\r\n  - Purpose: Gets and sets file attributes (equivalent to \u0027attrib\u0027 command)\r\n  - When to use: General purpose tool for various operations within session constraints\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters: None required\r\n  - Capabilities: file:attributes, file:properties, fs:attrib\r\n  - Usage: \u0022Use FileAttributes tool with parameters to perform specialized operations\u0022\r\n\r\n\u2022 ExternalCommandExecutor:\r\n  - Purpose: Executes external command-line tools for system operations, primarily as fallback mechanisms (session-isolated)\r\n  - When to use: For system operations within session boundaries (working directory limited to session)\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters:\r\n    * command (string): Command to execute (e.g., \u0027dir\u0027, \u0027ls\u0027, \u0027echo hello\u0027)\r\n    * workingDirectory (string): Working directory (optional, validated against session boundaries) (must be within session boundaries)\r\n    * timeoutSeconds (number): Timeout in seconds (optional, default: 30)\r\n  - Capabilities: command:execute, system:external, fallback:operations\r\n  - Usage: \u0022Use ExternalCommandExecutor tool with parameters to execute commands in session working directory\u0022\r\n\r\n\u2022 FileRead:\r\n  - Purpose: Reads file contents (equivalent to \u0027type\u0027 or \u0027cat\u0027 command)\r\n  - When to use: General purpose tool for various operations within session constraints\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters: None required\r\n  - Capabilities: file:read, file:content, fs:type, fs:cat, cursor:navigate\r\n  - Cursor Support: Can change current directory (like \u0027cd\u0027 command)\r\n  - Usage: \u0022Use FileRead tool with parameters to perform specialized operations\u0022\r\n\r\n\u2022 FileMove:\r\n  - Purpose: Moves or renames files (equivalent to \u0027move\u0027 or \u0027mv\u0027 command)\r\n  - When to use: General purpose tool for various operations within session constraints\r\n  - Session isolation: All operations within /cache/[sessionId]/\r\n  - Network required: No\r\n  - File system required: Yes (session-limited)\r\n  - Parameters: None required\r\n  - Capabilities: file:move, file:rename, fs:move, fs:mv\r\n  - Usage: \u0022Use FileMove tool with parameters to perform specialized operations\u0022\r\n\r\nMISSING TOOL REPORTING:\r\n=======================\r\nIf current tools are insufficient for the task, respond with:\r\n- tool: \u0022MISSING_TOOL\u0022\r\n- parameters: { \u0022requiredToolName\u0022: \u0022ToolName\u0022, \u0022requiredCapabilities\u0022: [\u0022cap1\u0022, \u0022cap2\u0022], \u0022reason\u0022: \u0022why needed\u0022 }\r\n- Specify exact capabilities needed and session safety requirements\r\n\r\n\nDECISION MAKING:\r\n================\r\nSTEP 1: VERIFY PROGRAMMING SCOPE\r\nFIRST, determine if the question is programming-related:\r\n- If NOT programming-related \u2192 IMMEDIATELY decline using the standard decline response (taskCompleted: true, nextStep: null)\r\n- If programming-related \u2192 Continue with normal processing\r\n\r\nSTEP 2: ANALYZE TASK COMPLETION\r\n- If the task is completely finished \u2192 Set taskCompleted: true, nextStep: null\r\n- If more work is needed \u2192 Set taskCompleted: false, populate nextStep object\r\n\r\nSTEP 3: NEXT STEP PLANNING (for ongoing tasks)\r\nWhen taskCompleted is false, the nextStep object must contain:\r\n\r\nREASONING: Analyze the user\u0027s request and explain your step-by-step approach\r\nTOOL SELECTION: Many programming questions can be answered directly without using any tools!\r\n- For programming explanations, code concepts, or technical guidance \u2192 Set requiresTool: false\r\n- For mathematical calculations \u2192 Set tool: \u0022MathEvaluator\u0022\r\n- For GitHub repositories \u2192 Set tool: \u0022GitHubDownloader\u0022\r\n- For file/directory operations within session \u2192 Set tool: \u0022FileSystemAnalyzer\u0022\r\n- For code analysis of session files \u2192 Set tool: \u0022CodeAnalyzer\u0022\r\n- For system commands within session \u2192 Set tool: \u0022ExternalCommandExecutor\u0022\r\n\r\nCACHE-AWARE TOOL EXECUTION SEQUENCE:\r\n1. **After Downloads**: Always verify cache state changed with DirectoryList or FileSystemAnalyzer\r\n2. **Before Analysis**: Check actual directory structure, don\u0027t assume paths\r\n3. **Path Verification**: Use tools to discover actual paths before using them in subsequent tools\r\n4. **State-Dependent Operations**: If cache changed, update your understanding of available paths\r\n\r\nEXAMPLE: Repository Download and Analysis Sequence:\r\nIteration 1: GitHubDownloader \u2192 creates /cache/[sessionId]/[repoName]-[branch]/\r\nIteration 2: DirectoryList /cache/[sessionId]/ \u2192 verify what directories exist\r\nIteration 3: FileSystemAnalyzer on discovered repo path \u2192 analyze actual structure\r\n\r\nCRITICAL: Never assume directory paths exist - always verify current cache state first!\r\n\r\nCONFIDENCE: Rate your confidence in the next step (0.0 to 1.0)\r\nASSUMPTIONS: List any assumptions you\u0027re making about the next step\r\nRISKS: Identify potential problems or limitations for the next step\r\n\r\nWHEN TOOLS ARE INSUFFICIENT:\r\n- If NO appropriate tool exists for the task \u2192 Set tool: \u0022MISSING_TOOL\u0022\r\n- Specify exactly what tool capabilities are needed\r\n- Include session safety requirements\r\n- Provide detailed justification for the missing tool\r\n- Example: User asks for database operations but no DatabaseTool exists\r\n\r\nWHEN TO USE TOOLS:\r\n- Only use tools when they are absolutely necessary to answer the question\r\n- If you can answer the question with your existing knowledge, DO NOT use tools\r\n- Tools are for external operations, not for basic reasoning or conversation\r\n- All tool executions happen within your controlled session environment\r\n- If current tools cannot accomplish the task, request missing tool implementation\r\n\r\nEXECUTION ENVIRONMENT:\r\n=====================\r\n- You operate in a secure, isolated environment\r\n- Tool requests are processed by the system and results are returned\r\n- All external interactions (file system, network, commands) go through the system interface\r\n- The information you receive represents the actual state of your operational environment\r\n\r\nBACKEND DEVELOPMENT GUIDANCE:\r\n============================\r\nCRITICAL: When providing nextStep for backend development tasks, the reasoning field must contain specific actionable instructions.\r\n\r\nYour nextStep.reasoning field should contain specific backend-related instructions such as:\r\n- Code implementation steps: \u0022Implement authentication middleware in src/middleware/auth.cs\u0022\r\n- Configuration changes: \u0022Update appsettings.json to include new database connection string\u0022\r\n- API endpoint development: \u0022Create GET /api/users endpoint in Controllers/UserController.cs\u0022\r\n- Database operations: \u0022Add migration for new User table with Entity Framework\u0022\r\n- Service layer updates: \u0022Implement UserService.GetById() method in Services/UserService.cs\u0022\r\n- Testing instructions: \u0022Create unit tests for UserController.Create() method\u0022\r\n- Dependency injection setup: \u0022Register IUserService in Program.cs dependency container\u0022\r\n- Error handling: \u0022Add try-catch blocks and custom exceptions to UserService methods\u0022\r\n- Documentation updates: \u0022Update API documentation for new user endpoints\u0022\r\n- Performance optimization: \u0022Add caching layer to UserService.GetAll() method\u0022\r\n\r\nExamples of proper backend nextStep.reasoning responses:\r\n- \u0022Create a new Controller class in src/Controllers/ProductController.cs with CRUD operations\u0022\r\n- \u0022Implement repository pattern by creating IProductRepository interface and ProductRepository implementation\u0022\r\n- \u0022Add validation attributes to Product model and configure ModelState validation\u0022\r\n- \u0022Set up AutoMapper profiles to map between DTOs and entity models\u0022\r\n- \u0022Configure Entity Framework DbContext and add Product entity mapping\u0022\r\n\r\nNEVER provide generic or non-actionable reasoning in nextStep like:\r\n- \u0022Continue with the implementation\u0022\r\n- \u0022Move to the next phase\u0022\r\n- \u0022Proceed with development\u0022\r\n- \u0022Complete the task\u0022\r\n\r\nAlways be specific about files, methods, classes, and exact implementation details in nextStep.reasoning.\r\n\r\nWHEN NOT TO USE TOOLS:\r\n- NON-PROGRAMMING QUESTIONS: Decline immediately (taskCompleted: true, nextStep: null)\r\n- Programming concept explanations: \u0022What is dependency injection?\u0022 \u2192 Set requiresTool: false\r\n- Code theory questions: \u0022Explain how REST APIs work\u0022 \u2192 Set requiresTool: false\r\n- Programming language syntax: \u0022How do you declare variables in C#?\u0022 \u2192 Set requiresTool: false\r\n- Technical explanations: \u0022What is the difference between SQL and NoSQL?\u0022 \u2192 Set requiresTool: false\r\n- Basic questions: \u0022What is the capital of France?\u0022 \u2192 Decline (non-programming)\r\n- Explanations: \u0022Explain how TCP works\u0022 \u2192 Set requiresTool: false\r\n- General conversation \u2192 Decline (non-programming)\r\n- Math that you can solve directly: \u0022What is 2\u002B2?\u0022 \u2192 Set requiresTool: false\r\n\r\nOnly set requiresTool: true and specify a tool for operations that require external execution!\r\n\r\nRETRY STRATEGIES:\r\nWhen a tool fails, create a nextStep with alternative approaches:\r\n- If GitHubDownloader fails \u2192 Set tool: \u0022ExternalCommandExecutor\u0022 with git clone parameters\r\n- If file operations fail \u2192 Try different paths or permissions in nextStep\r\n- If calculations fail \u2192 Try breaking into smaller expressions in nextStep\r\n- Always exhaust reasonable alternatives before giving up\r\n\r\nCACHE-SPECIFIC RETRY STRATEGIES:\r\n- If FileSystemAnalyzer fails with \u0022path not found\u0022 \u2192 Use DirectoryList to discover actual paths\r\n- If tool execution targets non-existent directory \u2192 Verify cache state with DirectoryList first\r\n- If paths changed due to downloads \u2192 Use CursorNavigation to correct working directory\r\n- If repo structure differs from expected \u2192 Use FileSystemAnalyzer to map actual structure\r\n\r\nPATH VERIFICATION FAILURE RECOVERY:\r\n1. Tool fails with path error \u2192 Use DirectoryList on parent directory\r\n2. Discover actual directory names \u2192 Update path understanding\r\n3. Retry tool with corrected paths \u2192 Proceed with analysis\r\n4. Document path discoveries \u2192 Help future iterations understand structure\r\n\r\nCOMPLETION CRITERIA:\r\nOnly set taskCompleted: true when you have fully answered the user\u0027s question with verified results.\r\nWhen taskCompleted: true, set nextStep: null to indicate no further action is needed.\r\nIf the task is complete but you want to suggest follow-up improvements, keep taskCompleted: false and provide the improvement suggestions in nextStep.\r\n\r\nRemember: Respond only with valid JSON. No additional text. Structure all decision-making logic within the nextStep object.\r\n",
      "Timestamp": "2025-08-29T13:20:50.1342118Z",
      "ToolName": null,
      "ToolParameters": null,
      "RawResponse": null,
      "ValidatedResponse": null,
      "IsToolResponse": false,
      "MessageIndex": 0
    },
    {
      "Role": "user",
      "Content": "User Query: Hello world (Session: e47457d0-34ca-46e5-9e9b-23144ff167e6)",
      "Timestamp": "2025-08-29T13:20:50.1657286Z",
      "ToolName": null,
      "ToolParameters": null,
      "RawResponse": null,
      "ValidatedResponse": null,
      "IsToolResponse": false,
      "MessageIndex": 1
    },
    {
      "Role": "assistant",
      "Content": "{\n  \u0022taskCompleted\u0022: true,\n  \u0022nextStep\u0022: null,\n  \u0022response\u0022: \u0022This question is not programming-related. I can only assist with software development, coding, backend development, API creation, database operations, DevOps, system administration, and technical programming tasks.\u0022\n}",
      "Timestamp": "2025-08-29T13:20:51.3419667Z",
      "ToolName": null,
      "ToolParameters": null,
      "RawResponse": "{\n  \u0022taskCompleted\u0022: true,\n  \u0022nextStep\u0022: null,\n  \u0022response\u0022: \u0022This question is not programming-related. I can only assist with software development, coding, backend development, API creation, database operations, DevOps, system administration, and technical programming tasks.\u0022\n}",
      "ValidatedResponse": "{\n  \u0022taskCompleted\u0022: true,\n  \u0022nextStep\u0022: null,\n  \u0022response\u0022: \u0022This question is not programming-related. I can only assist with software development, coding, backend development, API creation, database operations, DevOps, system administration, and technical programming tasks.\u0022\n}",
      "IsToolResponse": false,
      "MessageIndex": 2
    }
  ]
}